# æ•°æ®åº“éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
2. [å¿«é€Ÿéƒ¨ç½²](#å¿«é€Ÿéƒ¨ç½²)
3. [è¯¦ç»†é…ç½®](#è¯¦ç»†é…ç½®)
4. [è¿æ¥é…ç½®](#è¿æ¥é…ç½®)
5. [éªŒè¯éƒ¨ç½²](#éªŒè¯éƒ¨ç½²)
6. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
7. [å¤‡ä»½æ¢å¤](#å¤‡ä»½æ¢å¤)
8. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)

---

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows/Linux/macOS
- **å†…å­˜**: è‡³å°‘ 2GB RAM
- **å­˜å‚¨**: è‡³å°‘ 1GB å¯ç”¨ç£ç›˜ç©ºé—´

### æ•°æ®åº“è¦æ±‚
- **MySQL**: 8.0+ æˆ– **MariaDB**: 10.5+
- **å­—ç¬¦é›†**: æ”¯æŒ utf8mb4
- **æƒé™**: CREATE, ALTER, INDEX, SELECT, INSERT, UPDATE, DELETE

### æ¨èé…ç½®
```ini
[mysqld]
# åŸºæœ¬é…ç½®
default-storage-engine = InnoDB
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci

# æ€§èƒ½é…ç½®
innodb_buffer_pool_size = 256M
innodb_log_file_size = 64M
max_connections = 200
max_allowed_packet = 64M

# æŸ¥è¯¢ç¼“å­˜
query_cache_type = 1
query_cache_size = 32M
```

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. åˆ›å»ºæ•°æ®åº“

#### ä½¿ç”¨ MySQL å‘½ä»¤è¡Œ
```sql
-- ç™»å½• MySQLï¼ˆä½¿ç”¨ root ç”¨æˆ·ï¼‰
mysql -u root -p

-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE document_system 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

-- åˆ›å»ºä¸“ç”¨ç”¨æˆ·ï¼ˆæ¨èï¼‰
CREATE USER 'doc_user'@'localhost' 
IDENTIFIED BY 'your_secure_password';

-- æˆäºˆæƒé™
GRANT ALL PRIVILEGES ON document_system.* TO 'doc_user'@'localhost';
FLUSH PRIVILEGES;

-- é€€å‡º MySQL
EXIT;
```

#### ä½¿ç”¨ phpMyAdmin æˆ–å…¶ä»– GUI å·¥å…·
1. ç™»å½•åˆ°æ•°æ®åº“ç®¡ç†ç•Œé¢
2. æ‰§è¡Œä»¥ä¸‹ SQL å‘½ä»¤ï¼š
```sql
CREATE DATABASE document_system 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;
```

### 2. æ‰§è¡Œå»ºè¡¨è„šæœ¬

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ MySQL å‘½ä»¤è¡Œ
```bash
# ä½¿ç”¨åˆ›å»ºçš„ç”¨æˆ·ç™»å½•
mysql -u doc_user -p document_system

# æ‰§è¡Œå»ºè¡¨è„šæœ¬
source ForCreate_Improved.sql;

# æˆ–è€…ä¸€è¡Œå‘½ä»¤
mysql -u doc_user -p document_system < ForCreate_Improved.sql
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨é…ç½®æ–‡ä»¶
```bash
# å¦‚æœæœ‰è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
mysql --defaults-extra-file=my.cnf document_system < ForCreate_Improved.sql
```

### 3. éªŒè¯éƒ¨ç½²
```sql
-- æ£€æŸ¥è¡¨æ˜¯å¦åˆ›å»ºæˆåŠŸ
SHOW TABLES;

-- æ£€æŸ¥æ•°æ®åº“ç»“æ„
DESCRIBE sys_user;
DESCRIBE doc_document;
DESCRIBE doc_tag;
DESCRIBE doc_summary;
DESCRIBE doc_entity;
DESCRIBE doc_export;

-- æ£€æŸ¥å¤–é”®å…³ç³»
SELECT 
    TABLE_NAME,
    COLUMN_NAME,
    CONSTRAINT_NAME,
    REFERENCED_TABLE_NAME,
    REFERENCED_COLUMN_NAME
FROM 
    INFORMATION_SCHEMA.KEY_COLUMN_USAGE 
WHERE 
    TABLE_SCHEMA = 'document_system' 
    AND REFERENCED_TABLE_NAME IS NOT NULL;
```

---

## âš™ï¸ è¯¦ç»†é…ç½®

### æ•°æ®åº“ç”¨æˆ·æƒé™

#### æœ€å°æƒé™é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
```sql
-- åˆ›å»ºåªè¯»ç”¨æˆ·ï¼ˆç”¨äºæŠ¥è¡¨æŸ¥è¯¢ï¼‰
CREATE USER 'doc_readonly'@'localhost' 
IDENTIFIED BY 'readonly_password';
GRANT SELECT ON document_system.* TO 'doc_readonly'@'localhost';

-- åˆ›å»ºåº”ç”¨ç”¨æˆ·ï¼ˆå®Œæ•´æƒé™ï¼‰
CREATE USER 'doc_app'@'localhost' 
IDENTIFIED BY 'app_password';
GRANT SELECT, INSERT, UPDATE, DELETE ON document_system.* TO 'doc_app'@'localhost';
```

#### ç®¡ç†å‘˜æƒé™é…ç½®
```sql
-- åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·
CREATE USER 'doc_admin'@'localhost' 
IDENTIFIED BY 'admin_password';
GRANT ALL PRIVILEGES ON document_system.* TO 'doc_admin'@'localhost' 
WITH GRANT OPTION;
```

### å­—ç¬¦é›†é…ç½®

#### æ£€æŸ¥å½“å‰å­—ç¬¦é›†è®¾ç½®
```sql
-- æ£€æŸ¥æœåŠ¡å™¨å­—ç¬¦é›†
SHOW VARIABLES LIKE 'character_set_%';
SHOW VARIABLES LIKE 'collation_%';

-- æ£€æŸ¥æ•°æ®åº“å­—ç¬¦é›†
SHOW CREATE DATABASE document_system;

-- æ£€æŸ¥è¡¨å­—ç¬¦é›†
SELECT 
    TABLE_NAME,
    TABLE_COLLATION
FROM 
    INFORMATION_SCHEMA.TABLES 
WHERE 
    TABLE_SCHEMA = 'document_system';
```

#### ä¿®æ”¹å­—ç¬¦é›†ï¼ˆå¦‚æœéœ€è¦ï¼‰
```sql
-- ä¿®æ”¹æ•°æ®åº“å­—ç¬¦é›†
ALTER DATABASE document_system 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

-- ä¿®æ”¹è¡¨å­—ç¬¦é›†
ALTER TABLE sys_user 
CONVERT TO CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

-- æ‰¹é‡ä¿®æ”¹æ‰€æœ‰è¡¨
SELECT CONCAT('ALTER TABLE ', TABLE_NAME, 
              ' CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;')
FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = 'document_system';
```

---

## ğŸ”— è¿æ¥é…ç½®

### 1. åº”ç”¨é…ç½®æ–‡ä»¶

#### åˆ›å»º config.json
```json
{
    "host": "localhost",
    "port": 3306,
    "user": "doc_user",
    "password": "your_secure_password",
    "database": "document_system",
    "charset": "utf8mb4",
    "autocommit": true,
    "pool_size": 5,
    "pool_timeout": 30
}
```

#### åˆ›å»º .env æ–‡ä»¶
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=doc_user
DB_PASSWORD=your_secure_password
DB_DATABASE=document_system
DB_CHARSET=utf8mb4

# è¿æ¥æ± é…ç½®
DB_POOL_SIZE=5
DB_POOL_TIMEOUT=30
```

### 2. è¿æ¥æµ‹è¯•

#### Python æµ‹è¯•è„šæœ¬
```python
from document_system.config.database import DatabaseConnection

def test_connection():
    try:
        # ä½¿ç”¨é»˜è®¤é…ç½®
        db = DatabaseConnection()
        with db.get_connection() as conn:
            with conn.cursor() as cursor:
                cursor.execute("SELECT VERSION()")
                version = cursor.fetchone()
                print(f"MySQL ç‰ˆæœ¬: {version[0]}")
                
                cursor.execute("SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = 'document_system'")
                table_count = cursor.fetchone()
                print(f"è¡¨æ•°é‡: {table_count[0]}")
                
        print("âœ… æ•°æ®åº“è¿æ¥æˆåŠŸï¼")
        return True
    except Exception as e:
        print(f"âŒ æ•°æ®åº“è¿æ¥å¤±è´¥: {e}")
        return False

if __name__ == '__main__':
    test_connection()
```

#### å‘½ä»¤è¡Œæµ‹è¯•
```bash
# æµ‹è¯•è¿æ¥
mysql -u doc_user -p -e "SELECT VERSION(); SELECT DATABASE();"

# æµ‹è¯•è¡¨è®¿é—®
mysql -u doc_user -p document_system -e "SHOW TABLES;"
```

---

## âœ… éªŒè¯éƒ¨ç½²

### 1. åŸºæœ¬éªŒè¯
```sql
-- æ£€æŸ¥æ‰€æœ‰è¡¨æ˜¯å¦å­˜åœ¨
SELECT TABLE_NAME, TABLE_ROWS, DATA_LENGTH
FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = 'document_system'
ORDER BY TABLE_NAME;

-- æ£€æŸ¥ç´¢å¼•
SELECT 
    TABLE_NAME,
    INDEX_NAME,
    COLUMN_NAME,
    SEQ_IN_INDEX
FROM INFORMATION_SCHEMA.STATISTICS 
WHERE TABLE_SCHEMA = 'document_system'
ORDER BY TABLE_NAME, INDEX_NAME, SEQ_IN_INDEX;

-- æ£€æŸ¥å¤–é”®çº¦æŸ
SELECT 
    TABLE_NAME,
    COLUMN_NAME,
    CONSTRAINT_NAME,
    REFERENCED_TABLE_NAME,
    REFERENCED_COLUMN_NAME
FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE 
WHERE TABLE_SCHEMA = 'document_system' 
    AND REFERENCED_TABLE_NAME IS NOT NULL;
```

### 2. åŠŸèƒ½éªŒè¯
```sql
-- æ’å…¥æµ‹è¯•ç”¨æˆ·
INSERT INTO sys_user (user_id, username, email, password, role, status)
VALUES ('user_999', 'test_user', 'test@example.com', 'hashed_password', 'æ™®é€šç”¨æˆ·', 1);

-- æ’å…¥æµ‹è¯•æ–‡æ¡£
INSERT INTO doc_document (doc_id, user_id, title, author, file_path, file_size, file_format, category)
VALUES ('doc_999', 'user_999', 'æµ‹è¯•æ–‡æ¡£', 'æµ‹è¯•ä½œè€…', '/path/test.pdf', 1024, 'PDF', 'æµ‹è¯•åˆ†ç±»');

-- æ·»åŠ æ ‡ç­¾
INSERT INTO doc_tag (tag_id, doc_id, keyword)
VALUES ('tag_999', 'doc_999', 'æµ‹è¯•æ ‡ç­¾');

-- éªŒè¯æŸ¥è¯¢
SELECT 
    u.username,
    d.title,
    t.keyword
FROM doc_document d
JOIN sys_user u ON d.user_id = u.user_id
LEFT JOIN doc_tag t ON d.doc_id = t.doc_id
WHERE d.doc_id = 'doc_999';

-- æ¸…ç†æµ‹è¯•æ•°æ®
DELETE FROM doc_tag WHERE tag_id = 'tag_999';
DELETE FROM doc_document WHERE doc_id = 'doc_999';
DELETE FROM sys_user WHERE user_id = 'user_999';
```

### 3. åº”ç”¨å±‚éªŒè¯
```python
from document_system import create_document_system

def test_system():
    system = create_document_system()
    
    try:
        # æµ‹è¯•ç”¨æˆ·æ³¨å†Œ
        result = system.register_user(
            username='test_user',
            email='test@example.com',
            password='test123'
        )
        print(f"ç”¨æˆ·æ³¨å†Œ: {result}")
        
        if result['success']:
            # æµ‹è¯•è·å–ç”¨æˆ·ä¿¡æ¯
            profile = system.get_user_profile(result['user_id'])
            print(f"ç”¨æˆ·ä¿¡æ¯: {profile}")
            
            # æµ‹è¯•è·å–ç»Ÿè®¡ä¿¡æ¯
            stats = system.get_user_stats()
            print(f"ç»Ÿè®¡ä¿¡æ¯: {stats}")
        
        print("âœ… ç³»ç»ŸåŠŸèƒ½éªŒè¯é€šè¿‡ï¼")
        
    except Exception as e:
        print(f"âŒ ç³»ç»ŸéªŒè¯å¤±è´¥: {e}")
    finally:
        system.close()

if __name__ == '__main__':
    test_system()
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: è¿æ¥è¢«æ‹’ç» (Connection Refused)
**åŸå› **: æ•°æ®åº“æœåŠ¡æœªå¯åŠ¨æˆ–ç«¯å£é…ç½®é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ MySQL æœåŠ¡çŠ¶æ€
sudo systemctl status mysql  # Linux
# æˆ–
sc query mysql  # Windows

# å¯åŠ¨æœåŠ¡
sudo systemctl start mysql
# æˆ–
net start mysql

# æ£€æŸ¥ç«¯å£
netstat -an | grep 3306
```

### Q2: è®¿é—®è¢«æ‹’ç» (Access Denied)
**åŸå› **: ç”¨æˆ·æƒé™ä¸è¶³æˆ–å¯†ç é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
```sql
-- é‡ç½®å¯†ç 
ALTER USER 'doc_user'@'localhost' IDENTIFIED BY 'new_password';

-- é‡æ–°æˆæƒ
GRANT ALL PRIVILEGES ON document_system.* TO 'doc_user'@'localhost';
FLUSH PRIVILEGES;
```

### Q3: å­—ç¬¦é›†é—®é¢˜ (ä¹±ç )
**åŸå› **: å­—ç¬¦é›†é…ç½®ä¸æ­£ç¡®
**è§£å†³æ–¹æ¡ˆ**:
```sql
-- æ£€æŸ¥å­—ç¬¦é›†
SHOW VARIABLES LIKE 'character_set_%';

-- ä¿®æ”¹é…ç½®æ–‡ä»¶
# åœ¨ my.cnf ä¸­æ·»åŠ 
[client]
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4

[mysqld]
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci
```

### Q4: è¡¨ä¸å­˜åœ¨ (Table doesn't exist)
**åŸå› **: å»ºè¡¨è„šæœ¬æœªæ‰§è¡Œæˆ–æ‰§è¡Œå¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°æ‰§è¡Œå»ºè¡¨è„šæœ¬
mysql -u doc_user -p document_system < ForCreate_Improved.sql

# æ£€æŸ¥é”™è¯¯æ—¥å¿—
tail -f /var/log/mysql/error.log
```

### Q5: å¤–é”®çº¦æŸé”™è¯¯
**åŸå› **: æ•°æ®ä¸ä¸€è‡´æˆ–å¤–é”®å…³ç³»é…ç½®é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
```sql
-- æ£€æŸ¥å¤–é”®çŠ¶æ€
SELECT 
    TABLE_NAME,
    COLUMN_NAME,
    CONSTRAINT_NAME,
    REFERENCED_TABLE_NAME,
    REFERENCED_COLUMN_NAME
FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE 
WHERE TABLE_SCHEMA = 'document_system' 
    AND REFERENCED_TABLE_NAME IS NOT NULL;

-- ä¸´æ—¶ç¦ç”¨å¤–é”®æ£€æŸ¥
SET FOREIGN_KEY_CHECKS = 0;
-- æ‰§è¡Œæ•°æ®æ“ä½œ
SET FOREIGN_KEY_CHECKS = 1;
```

---

## ğŸ’¾ å¤‡ä»½æ¢å¤

### 1. æ•°æ®å¤‡ä»½

#### å®Œæ•´å¤‡ä»½
```bash
# å¤‡ä»½æ•°æ®åº“ç»“æ„å’Œæ•°æ®
mysqldump -u doc_user -p --single-transaction --routines --triggers document_system > backup_full.sql

# åªå¤‡ä»½æ•°æ®ï¼ˆä¸åŒ…å«ç»“æ„ï¼‰
mysqldump -u doc_user -p --no-create-info document_system > backup_data.sql

# åªå¤‡ä»½ç»“æ„ï¼ˆä¸åŒ…å«æ•°æ®ï¼‰
mysqldump -u doc_user -p --no-data document_system > backup_structure.sql
```

#### å¢é‡å¤‡ä»½ï¼ˆä½¿ç”¨äºŒè¿›åˆ¶æ—¥å¿—ï¼‰
```bash
# å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—
# åœ¨ my.cnf ä¸­æ·»åŠ ï¼š
log-bin=mysql-bin
binlog_format=ROW

# æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—
SHOW BINARY LOGS;

# å¤‡ä»½äºŒè¿›åˆ¶æ—¥å¿—
mysqlbinlog mysql-bin.000001 > backup_binlog.sql
```

### 2. æ•°æ®æ¢å¤

#### å®Œæ•´æ¢å¤
```bash
# æ¢å¤å®Œæ•´å¤‡ä»½
mysql -u doc_user -p document_system < backup_full.sql

# æ¢å¤æ•°æ®å¤‡ä»½
mysql -u doc_user -p document_system < backup_data.sql
```

#### éƒ¨åˆ†æ¢å¤
```bash
# æ¢å¤ç‰¹å®šè¡¨
mysql -u doc_user -p document_system < backup_table.sql

# ä½¿ç”¨æ—¶é—´ç‚¹æ¢å¤
mysqlbinlog --start-datetime="2023-01-01 00:00:00" --stop-datetime="2023-01-01 12:00:00" mysql-bin.000001 | mysql -u doc_user -p
```

### 3. è‡ªåŠ¨å¤‡ä»½è„šæœ¬
```bash
#!/bin/bash
# backup_database.sh

DB_USER="doc_user"
DB_PASSWORD="your_password"
DB_NAME="document_system"
BACKUP_DIR="/path/to/backup"
DATE=$(date +%Y%m%d_%H%M%S)

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# æ‰§è¡Œå¤‡ä»½
mysqldump -u $DB_USER -p$DB_PASSWORD --single-transaction $DB_NAME > $BACKUP_DIR/backup_$DATE.sql

# å‹ç¼©å¤‡ä»½æ–‡ä»¶
gzip $BACKUP_DIR/backup_$DATE.sql

# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "backup_*.sql.gz" -mtime +7 -delete

echo "å¤‡ä»½å®Œæˆ: $BACKUP_DIR/backup_$DATE.sql.gz"
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. ç´¢å¼•ä¼˜åŒ–
```sql
-- æŸ¥çœ‹ç´¢å¼•ä½¿ç”¨æƒ…å†µ
SHOW INDEX FROM doc_document;
SHOW INDEX FROM sys_user;

-- åˆ†ææŸ¥è¯¢æ€§èƒ½
EXPLAIN SELECT * FROM doc_document WHERE title LIKE '%keyword%';

-- åˆ›å»ºå¤åˆç´¢å¼•
CREATE INDEX idx_doc_user_title ON doc_document(user_id, title);
CREATE INDEX idx_tag_keyword ON doc_tag(keyword);
CREATE INDEX idx_summary_doc ON doc_summary(doc_id);
```

### 2. æŸ¥è¯¢ä¼˜åŒ–
```sql
-- ä¼˜åŒ–æœç´¢æŸ¥è¯¢
-- ä½¿ç”¨å…¨æ–‡ç´¢å¼•
ALTER TABLE doc_document ADD FULLTEXT(title, author);

-- ä½¿ç”¨å…¨æ–‡æœç´¢
SELECT * FROM doc_document 
WHERE MATCH(title, author) AGAINST('keyword' IN NATURAL LANGUAGE MODE);

-- åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–
SELECT * FROM doc_document 
WHERE user_id = 'user_001' 
ORDER BY upload_date DESC 
LIMIT 20 OFFSET 0;
```

### 3. é…ç½®ä¼˜åŒ–
```ini
# my.cnf ä¼˜åŒ–é…ç½®
[mysqld]
# å†…å­˜é…ç½®
innodb_buffer_pool_size = 512M  # è®¾ç½®ä¸ºç‰©ç†å†…å­˜çš„ 70-80%
innodb_log_file_size = 128M

# è¿æ¥é…ç½®
max_connections = 200
max_connect_errors = 1000

# æŸ¥è¯¢ç¼“å­˜
query_cache_type = 1
query_cache_size = 64M
query_cache_limit = 2M

# ä¸´æ—¶è¡¨é…ç½®
tmp_table_size = 64M
max_heap_table_size = 64M
```

### 4. ç›‘æ§å’Œç»´æŠ¤
```sql
-- æŸ¥çœ‹è¡¨çŠ¶æ€
SHOW TABLE STATUS FROM document_system;

-- åˆ†æè¡¨
ANALYZE TABLE doc_document;
ANALYZE TABLE sys_user;

-- ä¼˜åŒ–è¡¨
OPTIMIZE TABLE doc_document;
OPTIMIZE TABLE sys_user;

-- æ£€æŸ¥è¡¨
CHECK TABLE doc_document;
CHECK TABLE sys_user;
```

---

## ğŸ”§ é…ç½®æ–‡ä»¶ç¤ºä¾‹

### my.cnf (Linux/macOS)
```ini
[client]
port = 3306
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4

[mysqld]
port = 3306
basedir = /usr/local/mysql
datadir = /usr/local/mysql/data
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci
default-storage-engine = InnoDB

# æ€§èƒ½é…ç½®
innodb_buffer_pool_size = 256M
innodb_log_file_size = 64M
max_connections = 200
max_allowed_packet = 64M

# æ—¥å¿—é…ç½®
log-error = /var/log/mysql/error.log
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 2
```

### my.ini (Windows)
```ini
[client]
port = 3306
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4

[mysqld]
port = 3306
basedir = C:/Program Files/MySQL/MySQL Server 8.0
datadir = C:/ProgramData/MySQL/MySQL Server 8.0/Data
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci
default-storage-engine = InnoDB

# æ€§èƒ½é…ç½®
innodb_buffer_pool_size = 256M
innodb_log_file_size = 64M
max_connections = 200
max_allowed_packet = 64M

# æ—¥å¿—é…ç½®
log-error = C:/ProgramData/MySQL/MySQL Server 8.0/Data/mysql.err
slow_query_log = 1
slow_query_log_file = C:/ProgramData/MySQL/MySQL Server 8.0/Data/mysql-slow.log
long_query_time = 2
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. **æ£€æŸ¥æ—¥å¿—æ–‡ä»¶**ï¼š
   - MySQL é”™è¯¯æ—¥å¿—ï¼š`/var/log/mysql/error.log` æˆ– `C:/ProgramData/MySQL/.../mysql.err`
   - æ…¢æŸ¥è¯¢æ—¥å¿—ï¼š`/var/log/mysql/slow.log` æˆ– `C:/ProgramData/MySQL/.../mysql-slow.log`

2. **éªŒè¯é…ç½®**ï¼š
   - æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
   - éªŒè¯æƒé™è®¾ç½®
   - ç¡®è®¤ç½‘ç»œè¿æ¥

3. **å‚è€ƒæ–‡æ¡£**ï¼š
   - [MySQL å®˜æ–¹æ–‡æ¡£](https://dev.mysql.com/doc/)
   - [DOCUMENT_SYSTEM_GUIDE.md](./DOCUMENT_SYSTEM_GUIDE.md)

4. **å¯»æ±‚å¸®åŠ©**ï¼š
   - æäº¤ Issue åˆ°é¡¹ç›®ä»“åº“
   - è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ

---

*æœ€åæ›´æ–°: 2025å¹´12æœˆ*
